<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

  
  

  


  

  
<!-- Mirrored from pgrouting.postlbs.org/discussion/topic/153 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 20 Nov 2010 01:59:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
    <title>
      Message List – pgRouting
    </title>
        <link rel="search" href="../../search.html" />
        <link rel="help" href="../../wiki/TracGuide.html" />
        <link rel="start" href="../../wiki.html" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../chrome/discussion/css/discussion.css" type="text/css" /><link rel="stylesheet" href="../../chrome/discussion/css/admin.css" type="text/css" />
        <link rel="shortcut icon" href="../../chrome/site/pgRouting.ico" type="image/x-icon" />
        <link rel="icon" href="../../chrome/site/pgRouting.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../../search/opensearchhtml.html" title="Search pgRouting" />
    <script type="text/javascript" src="../../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../../chrome/common/js/trac.js"></script><script type="text/javascript" src="../../chrome/common/js/search.js"></script><script type="text/javascript" src="../../chrome/common/js/wikitoolbar.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      $(document).ready(function() {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../../chrome/site/css/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../index.html"><img src="../../chrome/site/slonik2_11.gif" alt="" height="126" /></a>
      </div>
      <form id="search" action="http://pgrouting.postlbs.org/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../../login.html">Login</a></li><li><a href="../../prefs.html">Preferences</a></li><li class="last"><a href="../../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../../wiki.html">Home</a></li><li><a href="../../timeline.html">Timeline</a></li><li><a href="../../roadmap.html">Roadmap</a></li><li><a href="../../browser.html">Browse Source</a></li><li><a href="../../report.html">View Tickets</a></li><li><a href="../../search.html">Search</a></li><li class="last active"><a href="../../discussion.html">Forum</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../../discussion.html">Forum Index</a></li><li class="last"><a href="../forum/16.html" title="dijkstra">dijkstra</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="discussion searchable">
      <div id="message-list" class="message-list">
        <h1>dijkstra (#16) - unlogisches ergebnis bei shortest_path_as_geometry (#153) - Message List</h1>
      <div class="topic new">
        <a name="topic"></a>
        <div class="header">
            <div class="subject">
              unlogisches ergebnis bei shortest_path_as_geometry
            </div>
            <div class="body">
              <p>
hallo ihr,
ich bin gerade dabei, shortest_path A* mit meinen eigenen daten zu testen. eigentlich hat alles mit der db (postgresql8.2) anpassung geklappt. nun erhalte ich aber ein unlogisches ergebnis beim aufrufen der shortest_path_as_geometry() funktion. mein layer besteht aus 4 arcs, die eine art viereck bilden. wenn ich nun shortest_path_as_geometry() aufrufe und von start 1 zum benachbarten ziel 2 gehe will, geht er einmal rum(egal welche start/ziel kombination ich wähle.
shortest_path_astar() funktioniert dagegen logisch von 1 nach 2 ok und von 1 nach 3 über 2. ich hoffe mein problem verständlich gemacht zu haben. vielen dank im voraus...lucky
</p>
            </div>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            lucky
          </div>
          <div class="time">
            07/04/08 21:14:40 (2 years ago)
          </div>
        </div>
      </div>
      <div class="replies new">
    <div class="set-display">
      Tree View
      <a href="http://pgrouting.postlbs.org/discussion/topic/153?discussion_action=set-display;display=flat-desc#topic">Flat View (newer first)</a>
      <a href="http://pgrouting.postlbs.org/discussion/topic/153?discussion_action=set-display;display=flat-asc#topic">Flat View (older first)</a>
    </div>
        <ul class="reply">
    <li class="new">
        <a name="message530"></a>
        <div class="id">
          Message #530
        </div>
        <div class="body">
            <p>
How about posting in English?
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            07/05/08 00:34:15 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message531"></a>
        <div class="id">
          Message #531
        </div>
        <div class="body">
            <p>
ok..sorry
please forget my first statement. my problem: i try to run the pgrouting A* with frida-data. i prepared my db and i think everything are ok. i can run shortest_path() and shortest_path_astar() and it looks fine. but when i try to run the the shortest_path_as_geometry() function i dont get a result. maybe this is the reason why i can't see any routes in the mapserver application.
can you help me???
thank you...lucky
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            lucky
          </div>
          <div class="time">
            07/07/08 20:38:27 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message533"></a>
        <div class="id">
          Message #533
        </div>
        <div class="body">
            <p>
Which version of pgRouting do you use?
If shortest_path() and shortest_path_astar() are OK, why do you need shortest_path_as_geometry()? As far as a I know, this function has been renamed in the newer versions after some code refactoring. Is there some documentation, which we forgot to change?
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            07/08/08 09:24:15 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message534"></a>
        <div class="id">
          Message #534
        </div>
        <div class="body">
            <p>
i use pgRouting 1.0.0a. i think i´ve to use the shortest_path_as_geometry()function to draw the routes in via mapserver in the mapfile?! to understand the routing i used your documentation "pgRouting (mit dem A*-Algorithmus) und UMN <a class="wiki" href="../../wiki/MapServer.html">MapServer</a>). in the php/mapscript routing_os_frida.phtml you use the shortest_path_astar2_as_geometry_internal_id() to get the start and end point. this function does´nt work. for that i use the shortest_path_as_geometry() direct in mapfile. sorry..for me is a little bit confuse. what is the best way to draw routes via mapserver in connection with list box for start and end point like frida-applikation?
thanks a lot...i hope you understand my problem
...lucky
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            lucky
          </div>
          <div class="time">
            07/08/08 21:47:49 (2 years ago)
          </div>
        </div>
      <ul class="reply">
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li><li class="new">
        <a name="message535"></a>
        <div class="id">
          Message #535
        </div>
        <div class="body">
            <p>
Do you have a geometry column in your data set? Can you post your table scheme here?
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            anton
          </div>
          <div class="time">
            07/09/08 08:00:11 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message537"></a>
        <div class="id">
          Message #537
        </div>
        <div class="body">
            <p>
yes i have.
here the definition of my dataset frida
</p>
<hr />
<p>
CREATE TABLE frida
(
</p>
<blockquote>
<p>
gid serial NOT NULL,
strshapeid smallint,
strid smallint,
strtypid smallint,
strspuren smallint,
strebene smallint,
strname character varying(50),
the_geom geometry,
x1 numeric,
y1 numeric,
x2 numeric,
y2 numeric,
source bigint,
target bigint,
length numeric,
edge_id integer,
CONSTRAINT frida_pkey PRIMARY KEY (gid),
CONSTRAINT enforce_dims_the_geom CHECK (ndims(the_geom) = 2),
CONSTRAINT enforce_geotype_the_geom CHECK (geometrytype(the_geom) = 'MULTILINESTRING'::text OR the_geom IS NULL),
CONSTRAINT enforce_srid_the_geom CHECK (srid(the_geom) = 4326)
</p>
</blockquote>
<p>
)
WITHOUT OIDS;
ALTER TABLE frida OWNER TO postgres;
</p>
<hr />
<p>
in mapserver i can see the geometry from this data, but i can´t see the routes, if i use the shortest_path_astar2_as_geometry_internal_id() function.
thanks...lucky
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            lucky
          </div>
          <div class="time">
            07/09/08 16:37:27 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message538"></a>
        <div class="id">
          Message #538
        </div>
        <div class="body">
            <p>
OK.
</p>
<p>
Can you try to execute the query with command line? I can't guess which error do you have exactly.
</p>
<p>
And I also would suggest you to use newer version of pgRouting.
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            anton
          </div>
          <div class="time">
            07/09/08 16:42:08 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message539"></a>
        <div class="id">
          Message #539
        </div>
        <div class="body">
            <p>
if i execute the query in command line i don´t get an error, i have no results! but with the same start/end with other functions i get a perfekt route an i can see also the route via mapserver. what i want is to use your php/mapscipt from routing_os_frida.phtml. in this script you use the shortest_path_astar2_as_geometry_internal_id() function, to catch the start/end from the dropdown-list.
ok...i will try a newer version. do you have a script like routing_os_frida.phtml where i catch start/end points from a list?
</p>
<p>
thanks a lot...lucky
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            lucky
          </div>
          <div class="time">
            07/09/08 18:29:49 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message540"></a>
        <div class="id">
          Message #540
        </div>
        <div class="body">
            <p>
Now I understand a little bit better. I was wondering where you read about those functions. Are you trying to setup the demo of Kai Behncke and Florian Thuerkow? They made this demo and sent us the link, so we added it to the project page.
</p>
<p>
I guess, it hasn't been updated for a longer time and uses an old version of pgRouting. I don't know well about it so I can't help you much here. I can only suggest you to try the tutorial. It's much newer. It shouldn't be too difficult then to use with Frida data then.
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            07/09/08 18:50:29 (2 years ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message541"></a>
        <div class="id">
          Message #541
        </div>
        <div class="body">
            <p>
ok...i will try it.
thanks for you time...lucky
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            lucky
          </div>
          <div class="time">
            07/09/08 18:57:45 (2 years ago)
          </div>
        </div>
      <ul class="reply">
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
          <li></li>
        </ul>
    <div class="set-display">
      Tree View
      <a href="http://pgrouting.postlbs.org/discussion/topic/153?discussion_action=set-display;display=flat-desc#topic">Flat View (newer first)</a>
      <a href="http://pgrouting.postlbs.org/discussion/topic/153?discussion_action=set-display;display=flat-asc#topic">Flat View (older first)</a>
    </div>
        
        <div class="attachments">
        </div>
      </div>
      </div>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../../about.html"><strong>Trac 0.11.5rc1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">pgRouting is a project of PostLBS <br /><a href="http://www.postlbs.org/">http://www.postlbs.org/</a></p>
    </div>
  </body>
