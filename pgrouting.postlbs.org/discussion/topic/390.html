<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

  
  

  


  

  
<!-- Mirrored from pgrouting.postlbs.org/discussion/topic/390 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 20 Nov 2010 01:59:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
    <title>
      Message List – pgRouting
    </title>
        <link rel="search" href="../../search.html" />
        <link rel="help" href="../../wiki/TracGuide.html" />
        <link rel="start" href="../../wiki.html" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../chrome/discussion/css/discussion.css" type="text/css" /><link rel="stylesheet" href="../../chrome/discussion/css/admin.css" type="text/css" />
        <link rel="shortcut icon" href="../../chrome/site/pgRouting.ico" type="image/x-icon" />
        <link rel="icon" href="../../chrome/site/pgRouting.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../../search/opensearchhtml.html" title="Search pgRouting" />
    <script type="text/javascript" src="../../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../../chrome/common/js/trac.js"></script><script type="text/javascript" src="../../chrome/common/js/search.js"></script><script type="text/javascript" src="../../chrome/common/js/wikitoolbar.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      $(document).ready(function() {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../../chrome/site/css/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../index.html"><img src="../../chrome/site/slonik2_11.gif" alt="" height="126" /></a>
      </div>
      <form id="search" action="http://pgrouting.postlbs.org/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../../login.html">Login</a></li><li><a href="../../prefs.html">Preferences</a></li><li class="last"><a href="../../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../../wiki.html">Home</a></li><li><a href="../../timeline.html">Timeline</a></li><li><a href="../../roadmap.html">Roadmap</a></li><li><a href="../../browser.html">Browse Source</a></li><li><a href="../../report.html">View Tickets</a></li><li><a href="../../search.html">Search</a></li><li class="last active"><a href="../../discussion.html">Forum</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../../discussion.html">Forum Index</a></li><li class="last"><a href="../forum/15.html" title="others">others</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="discussion searchable">
      <div id="message-list" class="message-list">
        <h1>others (#15) - road network problem (#390) - Message List</h1>
      <div class="topic new">
        <a name="topic"></a>
        <div class="header">
            <div class="subject">
              road network problem
            </div>
            <div class="body">
              <p>
I've been drawing a road network, each path is connected. and when the routing process using dijkstra_sp, there are several roads that dead / not connected. and I try to edit the path. but still the same and no change.
</p>
<p>
thanks for the response and the answer
</p>
            </div>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/13/10 02:07:14 (5 weeks ago)
          </div>
        </div>
      </div>
      <div class="replies new">
    <div class="set-display">
      Tree View
      <a href="http://pgrouting.postlbs.org/discussion/topic/390?discussion_action=set-display;display=flat-desc#topic">Flat View (newer first)</a>
      <a href="http://pgrouting.postlbs.org/discussion/topic/390?discussion_action=set-display;display=flat-asc#topic">Flat View (older first)</a>
    </div>
        <ul class="reply">
    <li class="new">
        <a name="message1690"></a>
        <div class="id">
          Message #1690
        </div>
        <div class="body">
            <blockquote class="citation">
<p>
 I've been drawing a road network, each path is connected. and when the routing process using dijkstra_sp, there are several roads that dead / not connected. and I try to edit the path. but still the same and no change.
 thanks for the response and the answer
</p>
</blockquote>
<p>
i'm using shapefile and postgresql n postgis
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/13/10 02:08:46 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1691"></a>
        <div class="id">
          Message #1691
        </div>
        <div class="body">
            <p>
I assume you ran the function "assign_vertex_id()" to build the network topology, right? This function contains a "snapping" tolerance value in the unit of your data. (You can find more about this in the tutorial).
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            10/13/10 08:59:40 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1694"></a>
        <div class="id">
          Message #1694
        </div>
        <div class="body">
            <p>
if I send a shp file, can you check it? only 140 road
this for my final project for college.
</p>
<p>
<a class="ext-link" href="http://www.4shared.com/file/QE0HIGNc/roads.html"><span class="icon"> </span>http://www.4shared.com/file/QE0HIGNc/roads.html</a>
</p>
<p>
thanks for everything God Bless U
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/14/10 03:31:24 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1695"></a>
        <div class="id">
          Message #1695
        </div>
        <div class="body">
            <p>
Could you list your steps (commands) to get your data into the routing database?
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            10/14/10 08:18:16 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1697"></a>
        <div class="id">
          Message #1697
        </div>
        <div class="body">
            <hr />
<p>
ALTER TABLE roads_polyline ADD COLUMN source integer;
</p>
<p>
ALTER TABLE roads_polyline ADD COLUMN target integer;
</p>
<p>
ALTER TABLE roads_polyline ADD COLUMN length double precision;
</p>
<hr />
<p>
SELECT assign_vertex_id('roads_polyline', 0.00001, 'the_geom', 'gid');
</p>
<p>
UPDATE roads_polyline SET length = length(the_geom);
</p>
<hr />
<p>
CREATE INDEX source_idx ON roads_polyline(source);
</p>
<p>
CREATE INDEX target_idx ON roads_polyline(target);
</p>
<p>
CREATE INDEX geom_idx ON roads_polyline USING GIST(the_geom GIST_GEOMETRY_OPS);
</p>
<hr />
<blockquote>
<p>
DROP TABLE IF EXISTS dijsktra_result;
</p>
</blockquote>
<p>
CREATE TABLE dijsktra_result(gid int4) with oids;
</p>
<p>
SELECT <a class="missing wiki">AddGeometryColumn?</a>('dijsktra_result', 'the_geom', '-1', 'MULTILINESTRING', 2);
</p>
<p>
INSERT INTO dijsktra_result(the_geom)
</p>
<blockquote>
<p>
SELECT the_geom FROM dijkstra_sp('roads_polyline', 10,1);
</p>
</blockquote>
<p>
thanks for your help
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/14/10 19:21:15 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1698"></a>
        <div class="id">
          Message #1698
        </div>
        <div class="body">
            <p>
First, it seems your data is imported to the database. I guess you used shp2pgsql for that, right?
</p>
<p>
But there are a few points that might be a problem:
</p>
<pre class="wiki">SELECT assign_vertex_id('roads_polyline', 0.00001, 'the_geom', 'gid');
</pre><p>
If your projection unit is "meter", this is very small, but even if it's "degree" unit (I think this is the case with your data), it's still small and then - if your original data isn't digitalized perfectly - the network might not be connected. You can try to increase this value to 0.0001 or 0.001 and see what happens.
</p>
<pre class="wiki">SELECT AddGeometryColumn?('dijsktra_result', 'the_geom', '-1', 'MULTILINESTRING', 2);
</pre><p>
Second, it's better not to have "-1" as spatial reference. Do you know the EPSG code of your data projection?
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            10/14/10 20:57:47 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1700"></a>
        <div class="id">
          Message #1700
        </div>
        <div class="body">
            <p>
ok. thanks for everything... daniel...
</p>
<p>
God Bless daniel. <sup></sup>
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/14/10 23:41:38 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1702"></a>
        <div class="id">
          Message #1702
        </div>
        <div class="body">
            <p>
I was confused, with diagnostic tools .. I have in my database:
Table roads_polyline | gid | id | Name | the_geom | Source | Target | length |
Table vertices_tmp
Table dijkstra_result
Table spatial_ref_sys
Table geometry column
</p>
<p>
I've tried a diagnostic tool, but the query results it appears ERROR: missing FROM-clause entry for table "roads_polyline"
</p>
<p>
I need your help
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/15/10 13:49:24 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1708"></a>
        <div class="id">
          Message #1708
        </div>
        <div class="body">
            <p>
Sorry, what is diagnostics tool?
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            10/17/10 06:33:14 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1710"></a>
        <div class="id">
          Message #1710
        </div>
        <div class="body">
            <p>
sorry <sup></sup>....
</p>
<blockquote>
<p>
in <a href="../../wiki/tools.html">http://pgrouting.postlbs.org/wiki/tools</a> especially View intersections and detect deadends.....
</p>
</blockquote>
<p>
i'm so confuse. <sup></sup>
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/18/10 18:00:32 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1711"></a>
        <div class="id">
          Message #1711
        </div>
        <div class="body">
            <p>
This wiki page Steve wrote to give show a possibility how to check your network for possible errors. It's nothing you have to do, but you better write an email to the mailing list if you're interested in it, because Steve usually doesn't read the forum.
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            10/18/10 23:44:08 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1713"></a>
        <div class="id">
          Message #1713
        </div>
        <div class="body">
            <p>
thank you daniel .. finally the problem which a few days ago I ask you, are resolved. was the location of errors in its digitization process ..... to find a location within a radius of several kilo meters, what functions should be used, in pgrouting? thanks
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/19/10 11:31:29 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
    <li class="new">
        <a name="message1714"></a>
        <div class="id">
          Message #1714
        </div>
        <div class="body">
            <p>
soryy my english is poor, i'm using google translate. hahaha
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            bintang87
          </div>
          <div class="time">
            10/19/10 11:32:44 (5 weeks ago)
          </div>
        </div>
      <ul class="reply">
        <li></li>
      </ul>
    </li><li class="new">
        <a name="message1715"></a>
        <div class="id">
          Message #1715
        </div>
        <div class="body">
            <p>
Sorry, but this question isn't clear to me. I think it's more a PostGIS question than a pgRouting problem.
</p>
<p>
Though I think this has nothing to do with the initial question in this forum thread. May I ask you to start new topic if the question changes? Otherwise this will help nobody else, who searches for an answer in the forum.
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            daniel
          </div>
          <div class="time">
            10/20/10 10:19:11 (4 weeks ago)
          </div>
        </div>
      <ul class="reply">
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
        <li></li>
      </ul>
    </li>
          <li></li>
        </ul>
    <div class="set-display">
      Tree View
      <a href="http://pgrouting.postlbs.org/discussion/topic/390?discussion_action=set-display;display=flat-desc#topic">Flat View (newer first)</a>
      <a href="http://pgrouting.postlbs.org/discussion/topic/390?discussion_action=set-display;display=flat-asc#topic">Flat View (older first)</a>
    </div>
        
        <div class="attachments">
        </div>
      </div>
      </div>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../../about.html"><strong>Trac 0.11.5rc1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">pgRouting is a project of PostLBS <br /><a href="http://www.postlbs.org/">http://www.postlbs.org/</a></p>
    </div>
  </body>
