<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

  
  

  


  

  
<!-- Mirrored from pgrouting.postlbs.org/discussion/topic/345 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 20 Nov 2010 01:59:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
    <title>
      Message List – pgRouting
    </title>
        <link rel="search" href="../../search.html" />
        <link rel="help" href="../../wiki/TracGuide.html" />
        <link rel="start" href="../../wiki.html" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../chrome/discussion/css/discussion.css" type="text/css" /><link rel="stylesheet" href="../../chrome/discussion/css/admin.css" type="text/css" />
        <link rel="shortcut icon" href="../../chrome/site/pgRouting.ico" type="image/x-icon" />
        <link rel="icon" href="../../chrome/site/pgRouting.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../../search/opensearchhtml.html" title="Search pgRouting" />
    <script type="text/javascript" src="../../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../../chrome/common/js/trac.js"></script><script type="text/javascript" src="../../chrome/common/js/search.js"></script><script type="text/javascript" src="../../chrome/common/js/wikitoolbar.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      $(document).ready(function() {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../../chrome/site/css/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../index.html"><img src="../../chrome/site/slonik2_11.gif" alt="" height="126" /></a>
      </div>
      <form id="search" action="http://pgrouting.postlbs.org/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../../login.html">Login</a></li><li><a href="../../prefs.html">Preferences</a></li><li class="last"><a href="../../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../../wiki.html">Home</a></li><li><a href="../../timeline.html">Timeline</a></li><li><a href="../../roadmap.html">Roadmap</a></li><li><a href="../../browser.html">Browse Source</a></li><li><a href="../../report.html">View Tickets</a></li><li><a href="../../search.html">Search</a></li><li class="last active"><a href="../../discussion.html">Forum</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../../discussion.html">Forum Index</a></li><li class="last"><a href="../forum/18.html" title="shootingstar">shootingstar</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="discussion searchable">
      <div id="message-list" class="message-list">
        <h1>shootingstar (#18) - Routing Can't Start in the reverse direction. (#345) - Message List</h1>
      <div class="topic new">
        <a name="topic"></a>
        <div class="header">
            <div class="subject">
              Routing Can't Start in the reverse direction.
            </div>
            <div class="body">
              <p>
First my platform is:<br />
<strong>Windows Server 2003, PostgreSQL 8.3, Postgis 1.4, pgRouting-1.03_pg-8.3.7</strong>
</p>
<p>
I was using a small sample made by David to test the shooting* algorithm<br />
Home : <a class="ext-link" href="http://cartosig.upv.es/es/recursos-sig/pgrouting-shooting-star-usage-example-turn-restriction"><span class="icon"> </span>http://cartosig.upv.es/es/recursos-sig/pgrouting-shooting-star-usage-example-turn-restriction</a>
</p>
<p>
SQL Script: <a class="ext-link" href="http://cartosig.upv.es/es/system/files/jomarlla/pgrouting_wr.sql"><span class="icon"> </span>http://cartosig.upv.es/es/system/files/jomarlla/pgrouting_wr.sql</a>
</p>
<p>
The script is easy to load and allow test one way links and restrictions.<br />
My issue is when i create a route with start edge 7 end edge 12. Or a route 9 to 8
</p>
<pre class="wiki">SELECT  * from shortest_path_shooting_star('SELECT gid as id, source, target, cost, reverse_cost,
x1, y1, x2, y2 , rule, to_cost
FROM wr',7, 12, true, true);
</pre><p>
Edge 7 is draw South to North. So the algorithm go North, travel around the roundabout. Then return Edge7 and go East to edge 12.<br />
<a style="padding:0; border:none" href="http://img204.imageshack.us/img204/2270/samplel.png"><img src="http://img204.imageshack.us/img204/2270/samplel.png" alt="http://img204.imageshack.us/img204/2270/samplel.png" title="http://img204.imageshack.us/img204/2270/samplel.png" /></a>
</p>
<p>
Looks like first edge can't use the reverse cost.
</p>
            </div>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            juan.oropeza
          </div>
          <div class="time">
            03/17/10 06:14:49 (8 months ago)
          </div>
        </div>
      </div>
      <div class="replies new">
    <div class="set-display">
      Tree View
      <a href="http://pgrouting.postlbs.org/discussion/topic/345?discussion_action=set-display;display=flat-desc#topic">Flat View (newer first)</a>
      <a href="http://pgrouting.postlbs.org/discussion/topic/345?discussion_action=set-display;display=flat-asc#topic">Flat View (older first)</a>
    </div>
        <ul class="reply">
    <li class="new">
        <a name="message1445"></a>
        <div class="id">
          Message #1445
        </div>
        <div class="body">
            <p>
Hey Juan,
</p>
<p>
yes, you are not the only one who has problems with shooting.
I'm still using an older version of pgrouting and your example even crashes my posgres server. But try the following:
</p>
<p>
- Swap the source and target of edge 7.<br />
- Leave to_cost and rule blank (null)<br />
- Try callin shooting with params false, false<br />
</p>
<blockquote>
<p>
(not directed, no has_reverse_cost)<br />
</p>
</blockquote>
<p>
By the way, your data builds a non directed graph.
So calling it with directed=true can't be correct.
...
But don't ask me what's happening here exactly and why.
I'm still using dijkstra.
</p>
<p>
Regards
</p>
<p>
<a class="missing wiki">PiMapper?</a>
</p>
        </div>
        <div class="controls">
        </div>
        <div class="footer">
          <div class="author">
            pimapper
          </div>
          <div class="time">
            03/19/10 04:16:21 (8 months ago)
          </div>
        </div>
      <ul class="reply">
        <li></li>
      </ul>
    </li>
          <li></li>
        </ul>
    <div class="set-display">
      Tree View
      <a href="http://pgrouting.postlbs.org/discussion/topic/345?discussion_action=set-display;display=flat-desc#topic">Flat View (newer first)</a>
      <a href="http://pgrouting.postlbs.org/discussion/topic/345?discussion_action=set-display;display=flat-asc#topic">Flat View (older first)</a>
    </div>
        
        <div class="attachments">
        </div>
      </div>
      </div>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../../about.html"><strong>Trac 0.11.5rc1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">pgRouting is a project of PostLBS <br /><a href="http://www.postlbs.org/">http://www.postlbs.org/</a></p>
    </div>
  </body>
