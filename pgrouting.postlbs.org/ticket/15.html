<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  

  
<!-- Mirrored from pgrouting.postlbs.org/ticket/15 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 20 Nov 2010 02:17:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
    <title>
          #15 (No shortest path of edges with same source and target node)
     – pgRouting
    </title>
        <link rel="search" href="../search.html" />
        <link rel="prev" href="14.html" title="Ticket #14" />
        <link rel="last" href="109.html" title="Ticket #109" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="http://pgrouting.postlbs.org/ticket/15?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="http://pgrouting.postlbs.org/ticket/15?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="http://pgrouting.postlbs.org/ticket/15?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="up" href="http://pgrouting.postlbs.org/report/9?USER=anonymous&amp;page=1" />
        <link rel="next" href="16.html" title="Ticket #16" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="138.html" title="Ticket #138" />
        <link rel="shortcut icon" href="../chrome/site/pgRouting.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/site/pgRouting.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearchhtml.html" title="Search pgRouting" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
        $("#changelog h3.change").addAnchor("Link to this change");
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[@id]").enable($(this).checked());
            $(this).siblings().filter("*[@id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/css/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../index.html"><img src="../chrome/site/slonik2_11.gif" alt="" height="126" /></a>
      </div>
      <form id="search" action="http://pgrouting.postlbs.org/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Home</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li><a href="../browser.html">Browse Source</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../discussion.html">Forum</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="14.html" title="Ticket #14">Previous Ticket</a></span></li><li><a href="http://pgrouting.postlbs.org/report/9?USER=anonymous&amp;page=1">Back to Query</a></li><li class="last"><span><a class="next" href="16.html" title="Ticket #16">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1>
              Ticket #15
          <span class="status">(closed bug report: fixed)</span>
      </h1>
      <!-- Do not show the ticket (pre)view when the user first comes to the "New Ticket" page.
           Wait until they hit preview. -->
        <!-- Ticket Box (ticket fields along with description) -->
        <div id="ticket">
          <div class="date">
            <p>Opened <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-06-14T23%3A23%3A20%2B0900&amp;precision=second" title="2007-06-14T23:23:20+0900 in Timeline">3 years</a> ago</p>
            <p>Last modified <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-07-27T14%3A57%3A38%2B0900&amp;precision=second" title="2007-07-27T14:57:38+0900 in Timeline">3 years</a> ago</p>
          </div>
          <!-- use a placeholder if it's a new ticket -->
          <h2 class="summary searchable">No shortest path of edges with same source and target node</h2>
          <table class="properties">
            <tr>
              <th id="h_reporter">Reported by:</th>
              <td headers="h_reporter" class="searchable">daniel</td>
              <th id="h_owner">Owned by:</th>
              <td headers="h_owner">anton
              </td>
            </tr>
            <tr>
                <th id="h_priority">
                  Priority:
                </th>
                <td headers="h_priority">
                      major
                </td>
                <th id="h_milestone">
                  Milestone:
                </th>
                <td headers="h_milestone">
                      <a class="missing milestone"></a>
                </td>
            </tr><tr>
                <th id="h_component">
                  Component:
                </th>
                <td headers="h_component">
                      A*
                </td>
                <th id="h_version">
                  Version:
                </th>
                <td headers="h_version">
                      1.0.0a
                </td>
            </tr><tr>
                <th id="h_keywords">
                  Keywords:
                </th>
                <td headers="h_keywords" class="searchable">
                </td>
                <th id="h_cc">
                  Cc:
                </th>
                <td headers="h_cc" class="searchable">
                </td>
            </tr>
          </table>
            <div class="description">
              <h3 id="comment:description">
                Description
              </h3>
              <div class="searchable">
                <p>
Node based shortest path algorithms (Dijkstra, A*) cannot distinguish between two edges, that have same source and same target (parallel edges). Randomly one of those edges will be selected for the route (see attached screenshot).
</p>
<p>
To be able to use node based algorithms, two nodes may not have the same source and target.
How can this be taken into account?
How to verify (and correct) those edges, when creating the network topology?
</p>

              </div>
            </div>
        </div>
          <h2>Attachments</h2>
          <div id="attachments">
            <dl class="attachments">
                <dt>
      <a href="../attachment/ticket/15/ssp_parallel_nodes_bug.html" title="View attachment">ssp_parallel_nodes_bug.png</a>
      <a href="../raw-attachment/ticket/15/ssp_parallel_nodes_bug.png" title="Download" class="trac-rawlink"><img src="../chrome/common/download.png" alt="Download" /></a>
      (<span title="105457 bytes">103.0 KB</span>) - added by <em>daniel</em>
      <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-06-14T23%3A23%3A36%2B0900&amp;precision=second" title="2007-06-14T23:23:36+0900 in Timeline">3 years</a> ago.
    </dt>
                <dt>
      <a href="../attachment/ticket/15/split_parallel_edges.html" title="View attachment">split_parallel_edges.sql</a>
      <a href="../raw-attachment/ticket/15/split_parallel_edges.sql" title="Download" class="trac-rawlink"><img src="../chrome/common/download.png" alt="Download" /></a>
      (<span title="3287 bytes">3.2 KB</span>) - added by <em>anton</em>
      <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-07-27T14%3A56%3A30%2B0900&amp;precision=second" title="2007-07-27T14:56:30+0900 in Timeline">3 years</a> ago.
    </dt>
            </dl>
          </div>
          <h2>Change History</h2>
          <div id="changelog">
            <form method="get" action="#comment" class="printableform">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-06-14T23%3A23%3A36%2B0900&amp;precision=second" title="2007-06-14T23:23:36+0900 in Timeline">3 years</a> ago by daniel
                </h3>
      <ul class="changes">
        <li>
          <strong>attachment</strong>
              <a href="../attachment/ticket/15/ssp_parallel_nodes_bug.html"><em>ssp_parallel_nodes_bug.png</em></a>
              <a href="../raw-attachment/ticket/15/ssp_parallel_nodes_bug.png" title="Download" class="trac-rawlink"><img src="../chrome/common/download.png" alt="Download" /></a>
              added
        </li>
      </ul>
      <div class="comment searchable">
        
      </div>
              </div>
            </form><form method="get" action="#comment" class="printableform">
              <div class="change">
                <h3 class="change" id="comment:1">
                  <span class="threading">
                     
                  </span>
                  Changed <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-06-15T08%3A47%3A08%2B0900&amp;precision=second" title="2007-06-15T08:47:08+0900 in Timeline">3 years</a> ago by anton
                </h3>
      <ul class="changes">
        <li>
          <strong>owner</strong>
            changed from <em>somebody</em> to <em>anton</em>
        </li><li>
          <strong>status</strong>
              changed from <em>new</em> to <em>assigned</em>
        </li>
      </ul>
      <div class="comment searchable">
        
      </div>
              </div>
            </form><form method="get" action="#comment" class="printableform">
              <div class="change">
                <h3 class="change" id="comment:2">
                  <span class="threading">
                        in reply to:
      <a href="#comment:description"><small>↑ description</small></a>
                        ;
                      follow-up:
      <a href="#comment:3"><small>↓ 3</small></a>
                     
                  </span>
                  Changed <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-06-16T03%3A29%3A38%2B0900&amp;precision=second" title="2007-06-16T03:29:38+0900 in Timeline">3 years</a> ago by jonnio
                </h3>
      <div class="comment searchable">
        <p>
Replying to <a class="closed ticket" href="15.html" title="bug report: No shortest path of edges with same source and target node (closed: fixed)">daniel</a>:
</p>
<blockquote class="citation">
<p>
 Node based shortest path algorithms (Dijkstra, A*) cannot distinguish between two edges, that have same source and same target (parallel edges). Randomly one of those edges will be selected for the route (see attached screenshot).
 
 To be able to use node based algorithms, two nodes may not have the same source and target.
 How can this be taken into account?
 How to verify (and correct) those edges, when creating the network topology?
</p>
</blockquote>
<p>
Even if there is more than one path from node to node, there can only be one 'lowest cost' method. There might need to be a procedure to clean up your dataset and remove all but the lowest cost edge.
</p>

      </div>
              </div>
            </form><form method="get" action="#comment" class="printableform">
              <div class="change">
                <h3 class="change" id="comment:3">
                  <span class="threading">
                        in reply to:
      <a href="#comment:2"><small>↑ 2</small></a>
                     
                  </span>
                  Changed <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-06-16T04%3A24%3A37%2B0900&amp;precision=second" title="2007-06-16T04:24:37+0900 in Timeline">3 years</a> ago by anton
                </h3>
      <ul class="changes">
        <li>
          <strong>priority</strong>
              changed from <em>critical</em> to <em>major</em>
        </li>
      </ul>
      <div class="comment searchable">
        <p>
Replying to <a href="15.html#comment:2" title="Comment 2 for Ticket #15">jonnio</a>:
</p>
<blockquote class="citation">
<p>
 Replying to <a class="closed ticket" href="15.html" title="bug report: No shortest path of edges with same source and target node (closed: fixed)">daniel</a>:
</p>
<blockquote class="citation">
<p>
 Node based shortest path algorithms (Dijkstra, A*) cannot distinguish between two edges, that have same source and same target (parallel edges). Randomly one of those edges will be selected for the route (see attached screenshot).
 
 To be able to use node based algorithms, two nodes may not have the same source and target.
 How can this be taken into account?
 How to verify (and correct) those edges, when creating the network topology?
</p>
</blockquote>
<p>
 
 Even if there is more than one path from node to node, there can only be one 'lowest cost' method. There might need to be a procedure to clean up your dataset and remove all but the lowest cost edge.
</p>
</blockquote>
<p>
Yes, I agree - there shouldn't be parallel edges. But we just cannot remove any edge - what if somebody will want to calculate a shortest path from/to those edge? I think we need to split them somehow at the topology creation stage.
</p>

      </div>
              </div>
            </form><form method="get" action="#comment" class="printableform">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-07-27T14%3A56%3A30%2B0900&amp;precision=second" title="2007-07-27T14:56:30+0900 in Timeline">3 years</a> ago by anton
                </h3>
      <ul class="changes">
        <li>
          <strong>attachment</strong>
              <a href="../attachment/ticket/15/split_parallel_edges.html"><em>split_parallel_edges.sql</em></a>
              <a href="../raw-attachment/ticket/15/split_parallel_edges.sql" title="Download" class="trac-rawlink"><img src="../chrome/common/download.png" alt="Download" /></a>
              added
        </li>
      </ul>
      <div class="comment searchable">
        
      </div>
              </div>
            </form><form method="get" action="#comment" class="printableform">
              <div class="change">
                <h3 class="change" id="comment:4">
                  <span class="threading">
                     
                  </span>
                  Changed <a class="timeline" href="http://pgrouting.postlbs.org/timeline?from=2007-07-27T14%3A57%3A38%2B0900&amp;precision=second" title="2007-07-27T14:57:38+0900 in Timeline">3 years</a> ago by anton
                </h3>
      <ul class="changes">
        <li>
          <strong>status</strong>
              changed from <em>assigned</em> to <em>closed</em>
        </li><li>
          <strong>resolution</strong>
              set to <em>fixed</em>
        </li>
      </ul>
      <div class="comment searchable">
        <p>
See split_parallel_edges.sql (attached) for a sample function which splits parallel edges.
</p>

      </div>
              </div>
            </form>
          </div>
      <div id="help">
        <strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.
      </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://pgrouting.postlbs.org/ticket/15?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="http://pgrouting.postlbs.org/ticket/15?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="http://pgrouting.postlbs.org/ticket/15?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../about.html"><strong>Trac 0.11.5rc1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">pgRouting is a project of PostLBS <br /><a href="http://www.postlbs.org/">http://www.postlbs.org/</a></p>
    </div>
  
<!-- Google Analytics Widget Code -->
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    jQuery(document).ready( function() {
      var pageTracker = _gat._getTracker("UA-9766327-1");
      jQuery('a').each( function() {
        var url;
        if ( this.href.match("15.html\/\/pgrouting.postlbs.org") ) {
          if ( this.href.match(/\.(zip|tar|tar.gz|tar.bzip|egg)$/) ) {
            url = this.pathname + this.search;
          };
        } else {
          var port = '';
          if ( this.port != '') port = ':'+this.port;
          url = '/external/' + this.hostname + port + this.pathname + this.search;
        };
        if ( url ) {
          if ( ! url.match('%5e.html\/attachment\/') ) {
            jQuery(this).click( function() {
              pageTracker._trackPageview(url);
            });
          };
        };
      });
    pageTracker._trackPageview();
    });
  } catch(err) {}
</script>
<!-- Google Analytics Widget Code Ended -->
</body>

<!-- Mirrored from pgrouting.postlbs.org/ticket/15 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 20 Nov 2010 02:17:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>